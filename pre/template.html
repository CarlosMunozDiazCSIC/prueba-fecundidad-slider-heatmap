<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <title>Indicador coyuntural de fecundidad en España</title>
    <meta name="mrf-extractable" content="false">
    <meta property='og:image' content=''>
    <meta property="og:title" content="Comparativa edad media a la maternidad e indicador de fecundidad">
    <meta property="og:description" content="Scatterplot conectado que visualiza la comparativa entre la edad media a la maternidad e indicador de fecundidad">
    <meta property="og:image" content="https://raw.githubusercontent.com/EnvejecimientoEnRed/maternidad_fecundidad_viz-comparativa/main/pre/cchs.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Titillium+Web%3A300%2C300italic%2C400%2C400italic%2C500%2C700%2C700italic&#038;subset=latin&#038;ver=5.8' type='text/css' media='all' />
</head>
<body>
    <div class="container">
        <div class="main">
            <section class="content b-chart active" id="chartBlock">
                <div class="b-title">
                    <h1 class="title">Indicador coyuntural de fecundidad en España</h1>
                    <h2 class="subtitle">Gráfico X/2021. Datos entre 1975 y 2020. Nivel autonómico y provincial</h2>
                </div>
                <div class="chart__logics">
                    <div class="chart__options">
                        <div class="chart__options--first">
                            <p class="chart__options-text">Selecciona la zona:</p>
                            <div class="chart__options-btn">
                                <button class="btn__chart btn__chart--first active" data-type="ccaa">CCAA</button>
                                <button class="btn__chart btn__chart--first" data-type="prov">Provincias</button>
                            </div>
                        </div>
                        <div class="chart__options--second">
                            <p class="chart__options-text">Selecciona la visualización:</p>
                            <div class="chart__options-btn">
                                <button class="btn__chart btn__chart--second active" data-type="slider">Mapa con slider</button>
                                <button class="btn__chart btn__chart--second" data-type="heatmap">Mapa de calor</button>
                            </div>
                        </div>
                    </div>
                    <div class="chart__legend">
                        <div class="chart__legend--gradient">
                            <span></span>
                            <span></span>
                            <span></span>
                            <span></span>
                            <span></span>
                            <span></span>
                        </div>
                        <div class="chart__legend--data">
                            <span>0</span>
                            <span>1,16</span>
                            <span>1,31</span>
                            <span>1,45</span>
                            <span>1,97</span>
                            <span>3,54</span>
                        </div>
                    </div>
                </div>
                <div class="chart__b-viz">
                    <div class="chart__viz chart__viz--slider active">
                        <div class="b-slider">
                            <div class="slider-control">
                                <div class="slider-buttons">
                                    <img id="btnPlay" class="btnControl" src="https://raw.githubusercontent.com/EnvejecimientoEnRed/envejecimiento_alzheimer_mapa/main/pre/css/play.svg" width="16px" height="16px" alt="Play">
                                    <img id="btnPause" class="btnControl" src="https://raw.githubusercontent.com/EnvejecimientoEnRed/envejecimiento_alzheimer_mapa/main/pre/css/pause.svg" width="16px" height="16px" alt="Pausa">
                                </div>
                                <p class="slider-text">Dele al play o navegue por la barra para ver la evolución del indicador coyuntural de fecundidad</p>                
                            </div>
                            <div class="slider-container">
                                <input id="slider" class="slider" type="range" size="46"> 
                                <div id="slider-dates">
                                    <div id="minDate">1975</div>
                                    <div id="sliderDate">2020</div>
                                    <div id="maxDate">2020</div>
                                </div>               
                            </div>
                        </div>
                        <div class="chart__viz--map" id="slider-viz"></div>
                    </div>
                    <div class="chart__viz chart__viz--heatmap" id="heatmap"></div>
                </div>
                <!-- Pie de gráfico -->
                <div class="chart__footer">
                    <div class="chart__source">
                        <p class="chart__source--data"><span>Fuente: </span>INE y Departamento de Población, CSIC</p>
                        <p class="chart__source--copyright"><a class="link" href="https://creativecommons.org/licenses/by/4.0/deed.en_US" target="_blank">CC BY 4.0</a></p>
                    </div>                    
                </div>
                <div class="logo">
                    <img src="https://raw.githubusercontent.com/EnvejecimientoEnRed/maternidad_fecundidad_viz-comparativa/main/pre/cchs.png" alt="Logo del Centro de Ciencias Humanas y Sociales" width="100%" height="100%">
                </div>         
            </section>
            <section class="content b-notes">
                <div class="b-title">
                    <h1 class="title">Notas adicionales al gráfico</h1>
                </div>
                <p class="text__paragraph">------- Mejorar este apartado -------</p>
            </section>
            <section class="content b-data">
                <div class="b-title">
                    <h1 class="title">Repositorio de código, de datos y posibilidad de descarga como imagen estática</h1>
                </div>
                <p class="text__header">Descarga de datos</p>
                <p class="text__paragraph">Los datos procesados en esta visualización los puede encontrar en <a class="link" href="https://github.com/EnvejecimientoEnRed/maternidad_fecundidad_viz-comparativa" target="_blank">este repositorio de Github</a>.</p>
                <p class="text__paragraph">Si desea descargarlos, puede hacerlo desde <a class="link" href="https://raw.githubusercontent.com/EnvejecimientoEnRed/maternidad_fecundidad_viz-comparativa/main/data/data_nac_fec.csv" target="_blank">aquí</a>.</p>
                <p class="text__header">Descargar como PNG</p>
                <p class="text__paragraph">También puede descargar el gráfico como una imagen .png haciendo click <button class="btn_share" id="pngImage">aquí</button></p> 
                <p class="text__paragraph">El gráfico se descargará con los últimos filtros que haya utilizado.</p>
                <p class="text__paragraph">Es conveniente advertir que, tras hacer una modificación de filtros, debe esperar unos segundos (entre 10 y 15) para que se renderice correctamente el bloque y pueda descargar la imagen de forma satisfactoria.</p>
            </section>
            <section class="content b-iframes">
                <div class="b-title">
                    <h1 class="title">Uso del iframe en sitios web</h1>
                </div>
                <p class="text__header">Embeber iframe con alto dinámico</p>
                <p class="text__paragraph">A la hora de utilizar la visualización dentro de un iframe y poder visualizarla de forma responsiva, este desarrollo se sirve de la librería <a class="link" href="http://blog.apps.npr.org/pym.js/" target="_blank">Pym.js</a>, que modifica de forma dinámica la altura de los iframes.</p>
                <p class="text__paragraph">Si su sitio web acepta el uso de librerías de terceros, como es el caso de Pym.js, y desea disponer la opción responsiva de esta visualización, copie el siguiente código:</p>
                <textarea class="text__iframe" disabled=""><div id="viz_cchs_6_2021"></div><script type="text/javascript" src="https://pym.nprapps.org/pym.v1.min.js"></script><script>let pymParent = new pym.Parent('viz_cchs_6_2021', 'https://EnvejecimientoEnRed.github.io/maternidad_fecundidad_viz-comparativa/', {});</script></textarea>
                <p class="text__header">Embeber iframe con alto fijo</p>
                <p class="text__paragraph">Aunque el siguiente iframe tiene una altura fija -680px-, el gráfico se ve correctamente en todos los dispositivos ya que siempre se ajusta al alto disponible que dejan otros elementos como títulos, selectores, botones o leyenda.</p>             
                <p class="text__paragraph">Si desea integrar esta visualización en su propia página, puede hacerlo copiando el siguiente código:</p>
                <textarea class="text__iframe" disabled=""><iframe src="https://EnvejecimientoEnRed/maternidad_fecundidad_viz-comparativa/?iframe=fijo" style="height:680px;width:100%;" title="Visualización maternidad y fecundidad"></iframe></textarea>
            </section>
            <section class="content b-rrss">
                <div class="b-title">
                    <h1 class="title">Compartir en redes sociales</h1>
                </div>
                <p class="text__paragraph">Existe la posibilidad de compartir la visualización a través de las redes sociales. Puede hacerlo clicando en alguno de los siguientes iconos:</p>
                <div class="rrss">
                    <a href="#" class="fa fa-facebook" id="shareFB" target="_blank"></a>
                    <a href="#" class="fa fa-twitter" id="shareTW" data-text="Comparativa entre la edad media a la maternidad y el índice de fecundidad" target="_blank"></a>
                    <a href="#" class="fa fa-linkedin" id="shareLK" data-text="Comparativa entre la edad media a la maternidad y el índice de fecundidad" target="_blank"></a>
                    <a href="#" class="fa fa-whatsapp" id="shareWA" data-text="Comparativa entre la edad media a la maternidad y el índice de fecundidad" target="_blank"></a>
                </div>
            </section>
        </div>        
        <nav class="tabs">
            <ul class="l-tabs">
                <li class="tab active" data-target="b-chart">Gráfico</li>
                <li class="tab" data-target="b-notes">Notas</li>
                <li class="tab" data-target="b-data">Descarga&nbsp;<i class="fa fa--share fa-download"></i></li>
                <li class="tab" data-target="b-iframes">Embeber</li>
                <li class="tab tab--rrss" data-target="b-rrss"><i class="fa fa--share fa-share-alt"></i></li>
            </ul>
        </nav>
        <div class="chart__tooltip" id="tooltip">
            <p class="chart__tooltip--title"></p>
            <p class="chart__tooltip--text"></p>
        </div>  
    </div>
    <!-- Uso de PYMJS para alturas dinámicas -->
    <script type="text/javascript" src="https://pym.nprapps.org/pym.v1.min.js"></script>
    <script>
        var pymChild = new pym.Child();
    </script>
</body>
</html>